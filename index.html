<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>espaloma: Extensible Surrogate Potential Optimized by Message-passing Algorithms &mdash; espaloma  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Installation" href="install.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="#" class="icon icon-home"> espaloma
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="deploy.html">Deploy espaloma 0.2.0 force field to parametrize your MM system</a></li>
<li class="toctree-l1"><a class="reference internal" href="experiments/typing.html">Atom typing recovery experiment.</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Documentation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">espaloma</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home"></a> &raquo;</li>
      <li>espaloma: Extensible Surrogate Potential Optimized by Message-passing Algorithms</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="espaloma-extensible-surrogate-potential-optimized-by-message-passing-algorithms">
<h1>espaloma: Extensible Surrogate Potential Optimized by Message-passing Algorithms<a class="headerlink" href="#espaloma-extensible-surrogate-potential-optimized-by-message-passing-algorithms" title="Permalink to this headline"></a></h1>
<p>Source code for Wang Y, Fass J, and Chodera JD “End-to-End Differentiable Construction of Molecular Mechanics Force Fields. <a class="reference external" href="https://arxiv.org/abs/2010.01196">https://arxiv.org/abs/2010.01196</a></p>
<img alt="_images/espaloma_abstract_v2-2.png" src="_images/espaloma_abstract_v2-2.png" />
<section id="paper-abstract">
<h2>Paper Abstract<a class="headerlink" href="#paper-abstract" title="Permalink to this headline"></a></h2>
<p>Molecular mechanics (MM) potentials have long been a workhorse of computational chemistry.
Leveraging accuracy and speed, these functional forms find use in a wide variety of applications in biomolecular modeling and drug discovery, from rapid virtual screening to detailed free energy calculations.
Traditionally, MM potentials have relied on human-curated, inflexible, and poorly extensible discrete chemical perception rules <em>atom types</em> for applying parameters to small molecules or biopolymers, making it difficult to optimize both types and parameters to fit quantum chemical or physical property data.
Here, we propose an alternative approach that uses <em>graph neural networks</em> to perceive chemical environments, producing continuous atom embeddings from which valence and nonbonded parameters can be predicted using invariance-preserving layers.
Since all stages are built from smooth neural functions, the entire process—spanning chemical perception to parameter assignment—is modular and end-to-end differentiable with respect to model parameters, allowing new force fields to be easily constructed, extended, and applied to arbitrary molecules.
We show that this approach is not only sufficiently expressive to reproduce legacy atom types, but that it can learn and extend existing molecular mechanics force fields, construct entirely new force fields applicable to both biopolymers and small molecules from quantum chemical calculations, and even learn to accurately predict free energies from experimental observables.</p>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="deploy.html">Deploy espaloma 0.2.0 force field to parametrize your MM system</a></li>
<li class="toctree-l1"><a class="reference internal" href="experiments/typing.html">Atom typing recovery experiment.</a><ul>
<li class="toctree-l2"><a class="reference internal" href="experiments/typing.html#installation-and-imports">Installation and Imports</a></li>
<li class="toctree-l2"><a class="reference internal" href="experiments/typing.html#get-dataset">Get dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="experiments/typing.html#assign-legacy-typing">Assign legacy typing</a></li>
<li class="toctree-l2"><a class="reference internal" href="experiments/typing.html#data-massaging">Data massaging</a></li>
<li class="toctree-l2"><a class="reference internal" href="experiments/typing.html#defining-model">Defining model</a></li>
<li class="toctree-l2"><a class="reference internal" href="experiments/typing.html#define-graph-level-loss-function">Define graph-level loss function</a></li>
<li class="toctree-l2"><a class="reference internal" href="experiments/typing.html#train-the-model">Train the model</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="autosummary/espaloma.mm.html">espaloma.mm</a></li>
<li class="toctree-l2"><a class="reference internal" href="autosummary/espaloma.nn.html">espaloma.nn</a></li>
<li class="toctree-l2"><a class="reference internal" href="autosummary/espaloma.graphs.html">espaloma.graphs</a></li>
<li class="toctree-l2"><a class="reference internal" href="autosummary/espaloma.data.html">espaloma.data</a></li>
</ul>
</li>
</ul>
</div>
</section>
</section>
<section id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline"></a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="install.html" class="btn btn-neutral float-right" title="Installation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, Yuanqing Wang @ choderalab // MSKCC..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>